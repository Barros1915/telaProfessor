<!DOCTYPE html>
<html lang="pt-br">
<head>
  <link rel="icon" href="book.png">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Primeiro Workflow - Curso n8n</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <link rel="stylesheet" href="estilo.css">
  <link rel="stylesheet" href="lesson.css">
</head>
<body>
  <div class="menu">
    <ul>
      <li>
        <a href="index.html"><i class="fas fa-home" style="font-size:25px;color:lightblue;"></i> Início</a>
      </li>
      <li>
        <a href="#"><i class="fas fa-play-circle" style="font-size:25px;color:lightblue;"></i> Módulo 1: Fundamentos</a>
        <ul class="submenu"> 
          <li><a href="modulo1-intro.html"><i class="fas fa-info-circle"></i> Introdução ao n8n</a></li>
          <li><a href="modulo1-instalacao.html"><i class="fas fa-download"></i> Instalação</a></li>
          <li><a href="modulo1-interface.html"><i class="fas fa-desktop"></i> Interface do n8n</a></li>
          <li><a href="modulo1-conceitos.html"><i class="fas fa-lightbulb"></i> Conceitos Básicos</a></li>
        </ul>
      </li>
      <li>
        <a href="#"><i class="fas fa-cogs" style="font-size:25px;color:lightblue;"></i> Módulo 2: Workflows</a>
        <ul class="submenu">
          <li><a href="modulo2-primeiro-workflow.html" class="active"><i class="fas fa-plus"></i> Primeiro Workflow</a></li>
          <li><a href="modulo2-nodes.html"><i class="fas fa-puzzle-piece"></i> Nodes Essenciais</a></li>
          <li><a href="modulo2-conectores.html"><i class="fas fa-link"></i> Conectores</a></li>
        </ul>
      </li>
      <li>
        <a href="#"><i class="fas fa-code" style="font-size:25px;color:lightblue;"></i> Módulo 3: Avançado</a>
        <ul class="submenu">
          <li><a href="modulo3-javascript.html"><i class="fab fa-js"></i> JavaScript no n8n</a></li>
          <li><a href="modulo3-apis.html"><i class="fas fa-exchange-alt"></i> APIs e Webhooks</a></li>
          <li><a href="modulo3-condicionais.html"><i class="fas fa-code-branch"></i> Lógica Condicional</a></li>
        </ul>
      </li>
      <li>
        <a href="#"><i class="fas fa-project-diagram" style="font-size:25px;color:lightblue;"></i> Módulo 4: Projetos</a>
        <ul class="submenu">
          <li><a href="projeto1.html"><i class="fas fa-envelope"></i> Automação de Email</a></li>
          <li><a href="projeto2.html"><i class="fas fa-share-alt"></i> Integração Redes Sociais</a></li>
          <li><a href="projeto3.html"><i class="fas fa-database"></i> Sincronização de Dados</a></li>
        </ul>
      </li>
      <li>
        <a href="recursos.html"><i class="fas fa-download" style="font-size:25px;color:lightblue;"></i> Recursos</a>
      </li>
      <li>
        <a href="certificado.html"><i class="fas fa-certificate" style="font-size:25px;color:lightblue;"></i> Certificado</a>
      </li>
    </ul>
  </div>

  <div class="lesson-container">
    <div class="lesson-sidebar">
      <div class="lesson-progress">
        <h4><i class="fas fa-tasks"></i> Progresso do Módulo</h4>
        <div class="progress-bar">
          <div class="progress-fill" style="width: 33%"></div>
        </div>
        <span class="progress-text">1 de 3 lições concluídas</span>
      </div>

      <div class="lesson-navigation">
        <h4><i class="fas fa-list"></i> Módulo 2: Workflows</h4>
        <ul class="lesson-list">
          <li class="current"><a href="modulo2-primeiro-workflow.html"><i class="fas fa-play-circle"></i> Primeiro Workflow</a></li>
          <li><a href="modulo2-nodes.html"><i class="fas fa-puzzle-piece"></i> Nodes Essenciais</a></li>
          <li><a href="modulo2-conectores.html"><i class="fas fa-link"></i> Conectores</a></li>
        </ul>
      </div>

      <div class="quick-reference">
        <h4><i class="fas fa-bookmark"></i> Referência Rápida</h4>
        <div class="reference-item">
          <strong>Atalhos:</strong>
          <ul>
            <li>Ctrl + S: Salvar workflow</li>
            <li>Ctrl + E: Executar workflow</li>
            <li>Ctrl + Z: Desfazer</li>
            <li>Del: Deletar node selecionado</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="lesson-content">
      <div class="lesson-header">
        <div class="lesson-meta">
          <span class="lesson-module">Módulo 2: Workflows</span>
          <span class="lesson-duration"><i class="fas fa-clock"></i> 90 minutos</span>
        </div>
        <h1><i class="fas fa-plus"></i> Criando Seu Primeiro Workflow</h1>
        <p class="lesson-description">Aprenda a criar seu primeiro workflow automatizado no n8n, desde a configuração inicial até a execução e monitoramento.</p>
      </div>

      <div class="lesson-body">
        <section class="lesson-section">
          <h2><i class="fas fa-lightbulb"></i> O que Vamos Construir</h2>
          <p>Nesta lição, criaremos um workflow simples mas poderoso que:</p>
          
          <div class="workflow-goals">
            <div class="goal">
              <i class="fas fa-envelope"></i>
              <span>Monitora uma caixa de email</span>
            </div>
            <div class="goal">
              <i class="fas fa-filter"></i>
              <span>Filtra emails por assunto</span>
            </div>
            <div class="goal">
              <i class="fas fa-table"></i>
              <span>Salva dados em planilha</span>
            </div>
            <div class="goal">
              <i class="fas fa-bell"></i>
              <span>Envia notificação no Slack</span>
            </div>
          </div>
        </section>

        <section class="lesson-section">
          <h2><i class="fas fa-play"></i> Passo a Passo</h2>
          
          <div class="tutorial-step">
            <div class="step-header">
              <span class="step-number">1</span>
              <h3>Criando um Novo Workflow</h3>
            </div>
            <div class="step-content">
              <p>Abra o n8n e clique em "New Workflow" para começar:</p>
              <div class="step-image">
                <div class="image-placeholder">
                  <i class="fas fa-image"></i>
                  <p>Screenshot: Tela inicial do n8n com botão "New Workflow"</p>
                </div>
              </div>
              <div class="step-instructions">
                <ol>
                  <li>Abra o n8n em seu navegador</li>
                  <li>Clique no botão "New Workflow"</li>
                  <li>Você verá uma tela em branco com o node "Start"</li>
                </ol>
              </div>
            </div>
          </div>

          <div class="tutorial-step">
            <div class="step-header">
              <span class="step-number">2</span>
              <h3>Adicionando o Trigger de Email</h3>
            </div>
            <div class="step-content">
              <p>Vamos configurar o node que monitora emails:</p>
              <div class="step-instructions">
                <ol>
                  <li>Clique no "+" ao lado do node Start</li>
                  <li>Busque por "Gmail" na lista de nodes</li>
                  <li>Selecione "Gmail Trigger"</li>
                  <li>Configure suas credenciais do Gmail</li>
                  <li>Defina o filtro para monitorar emails específicos</li>
                </ol>
              </div>
              
              <div class="code-block">
                <div class="code-header">
                  <span><i class="fas fa-cog"></i> Configuração do Gmail Trigger</span>
                  <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
                <pre><code>{
  "event": "messageReceived",
  "filters": {
    "subject": "Novo Lead",
    "from": "*@meusite.com"
  },
  "pollInterval": 60
}</code></pre>
              </div>
            </div>
          </div>

          <div class="tutorial-step">
            <div class="step-header">
              <span class="step-number">3</span>
              <h3>Processando os Dados</h3>
            </div>
            <div class="step-content">
              <p>Agora vamos extrair e processar as informações do email:</p>
              <div class="step-instructions">
                <ol>
                  <li>Adicione um node "Function"</li>
                  <li>Conecte-o ao Gmail Trigger</li>
                  <li>Insira o código JavaScript para processar os dados</li>
                </ol>
              </div>
              
              <div class="code-block">
                <div class="code-header">
                  <span><i class="fab fa-js"></i> Código JavaScript</span>
                  <button class="copy-btn" onclick="copyCode(this)">Copiar</button>
                </div>
                <pre><code>// Extrair informações do email
const emailData = items[0].json;

// Processar o conteúdo
const processedData = {
  timestamp: new Date().toISOString(),
  from: emailData.from,
  subject: emailData.subject,
  lead_name: extractName(emailData.body),
  lead_email: extractEmail(emailData.body),
  source: 'email'
};

function extractName(body) {
  const nameMatch = body.match(/Nome:\s*(.+)/i);
  return nameMatch ? nameMatch[1].trim() : 'N/A';
}

function extractEmail(body) {
  const emailMatch = body.match(/Email:\s*([^\s]+)/i);
  return emailMatch ? emailMatch[1].trim() : 'N/A';
}

return [{ json: processedData }];</code></pre>
              </div>
            </div>
          </div>

          <div class="tutorial-step">
            <div class="step-header">
              <span class="step-number">4</span>
              <h3>Salvando em Planilha</h3>
            </div>
            <div class="step-content">
              <p>Vamos salvar os dados processados em uma planilha Google Sheets:</p>
              <div class="step-instructions">
                <ol>
                  <li>Adicione um node "Google Sheets"</li>
                  <li>Configure a conexão com sua conta Google</li>
                  <li>Selecione a planilha e aba desejada</li>
                  <li>Mapeie os campos de dados</li>
                </ol>
              </div>
            </div>
          </div>

          <div class="tutorial-step">
            <div class="step-header">
              <span class="step-number">5</span>
              <h3>Enviando Notificação</h3>
            </div>
            <div class="step-content">
              <p>Por fim, vamos enviar uma notificação no Slack:</p>
              <div class="step-instructions">
                <ol>
                  <li>Adicione um node "Slack"</li>
                  <li>Configure o webhook do Slack</li>
                  <li>Personalize a mensagem de notificação</li>
                  <li>Teste o workflow completo</li>
                </ol>
              </div>
            </div>
          </div>
        </section>

        <section class="lesson-section">
          <h2><i class="fas fa-play-circle"></i> Executando o Workflow</h2>
          <div class="execution-guide">
            <div class="execution-step">
              <i class="fas fa-save"></i>
              <div>
                <h4>1. Salvar o Workflow</h4>
                <p>Pressione Ctrl+S ou clique em "Save" para salvar seu workflow</p>
              </div>
            </div>
            <div class="execution-step">
              <i class="fas fa-play"></i>
              <div>
                <h4>2. Ativar o Workflow</h4>
                <p>Toggle o switch "Active" para ativar o monitoramento automático</p>
              </div>
            </div>
            <div class="execution-step">
              <i class="fas fa-test-tube"></i>
              <div>
                <h4>3. Testar Manualmente</h4>
                <p>Use "Execute Workflow" para testar com dados de exemplo</p>
              </div>
            </div>
            <div class="execution-step">
              <i class="fas fa-chart-line"></i>
              <div>
                <h4>4. Monitorar Execuções</h4>
                <p>Acompanhe as execuções na aba "Executions"</p>
              </div>
            </div>
          </div>
        </section>

        <section class="lesson-section">
          <h2><i class="fas fa-bug"></i> Troubleshooting Comum</h2>
          <div class="troubleshooting">
            <div class="trouble-item">
              <div class="trouble-icon error">
                <i class="fas fa-times-circle"></i>
              </div>
              <div class="trouble-content">
                <h4>Erro de Autenticação</h4>
                <p><strong>Problema:</strong> "Authentication failed" no Gmail</p>
                <p><strong>Solução:</strong> Verifique se a autenticação OAuth2 está configurada corretamente e se as permissões foram concedidas.</p>
              </div>
            </div>
            
            <div class="trouble-item">
              <div class="trouble-icon warning">
                <i class="fas fa-exclamation-triangle"></i>
              </div>
              <div class="trouble-content">
                <h4>Workflow Não Executa</h4>
                <p><strong>Problema:</strong> O workflow não é disparado automaticamente</p>
                <p><strong>Solução:</strong> Certifique-se de que o workflow está ativo (toggle "Active" ligado) e que o trigger está configurado corretamente.</p>
              </div>
            </div>
            
            <div class="trouble-item">
              <div class="trouble-icon info">
                <i class="fas fa-info-circle"></i>
              </div>
              <div class="trouble-content">
                <h4>Dados Não Aparecem na Planilha</h4>
                <p><strong>Problema:</strong> Os dados não são salvos no Google Sheets</p>
                <p><strong>Solução:</strong> Verifique se a planilha existe, se as permissões estão corretas e se o mapeamento de campos está configurado.</p>
              </div>
            </div>
          </div>
        </section>

        <section class="lesson-section">
          <h2><i class="fas fa-tasks"></i> Exercício Prático</h2>
          <div class="exercise-box">
            <h4><i class="fas fa-clipboard-check"></i> Tarefa 3: Construa Seu Primeiro Workflow</h4>
            <p>Agora é sua vez de criar o workflow completo seguindo os passos aprendidos:</p>
            <ol>
              <li>Crie um novo workflow no n8n</li>
              <li>Configure um Gmail Trigger para monitorar emails</li>
              <li>Adicione um node Function para processar dados</li>
              <li>Configure um Google Sheets para salvar informações</li>
              <li>Adicione uma notificação (Slack, Discord ou Email)</li>
              <li>Teste o workflow com dados reais</li>
              <li>Ative o workflow para monitoramento contínuo</li>
            </ol>
            
            <div class="exercise-checklist">
              <h5><i class="fas fa-check-square"></i> Checklist de Verificação:</h5>
              <div class="checklist-item">
                <input type="checkbox" id="check1">
                <label for="check1">Workflow salvo com nome descritivo</label>
              </div>
              <div class="checklist-item">
                <input type="checkbox" id="check2">
                <label for="check2">Trigger configurado e testado</label>
              </div>
              <div class="checklist-item">
                <input type="checkbox" id="check3">
                <label for="check3">Processamento de dados funcionando</label>
              </div>
              <div class="checklist-item">
                <input type="checkbox" id="check4">
                <label for="check4">Dados salvos na planilha corretamente</label>
              </div>
              <div class="checklist-item">
                <input type="checkbox" id="check5">
                <label for="check5">Notificação enviada com sucesso</label>
              </div>
              <div class="checklist-item">
                <input type="checkbox" id="check6">
                <label for="check6">Workflow ativado e funcionando</label>
              </div>
            </div>
            
            <button class="btn-complete-task" onclick="completeTask(3, 'modulo2-primeiro-workflow')">Marcar como Concluído</button>
          </div>
        </section>

        <section class="lesson-section">
          <h2><i class="fas fa-graduation-cap"></i> Próximos Passos</h2>
          <div class="next-steps-preview">
            <p>Parabéns por criar seu primeiro workflow! Na próxima lição, você aprenderá sobre:</p>
            <ul class="preview-list">
              <li><i class="fas fa-puzzle-piece"></i> Nodes essenciais para automação</li>
              <li><i class="fas fa-data"></i> Manipulação avançada de dados</li>
              <li><i class="fas fa-clock"></i> Configuração de schedules e timers</li>
              <li><i class="fas fa-branch-code"></i> Lógica condicional em workflows</li>
            </ul>
          </div>
        </section>

        <div class="lesson-navigation-buttons">
          <a href="modulo1-conceitos.html" class="btn-prev"><i class="fas fa-arrow-left"></i> Lição Anterior</a>
          <a href="modulo2-nodes.html" class="btn-next">Próxima Lição: Nodes Essenciais <i class="fas fa-arrow-right"></i></a>
        </div>
      </div>
    </div>
  </div>

  <div class="footer">
    <p><i class="fas fa-graduation-cap"></i> Curso n8n - Automação Profissional | Lição 5 de 16</p>
  </div>

  <script src="curso-n8n.js"></script>
  <script>
    // Lesson-specific functionality
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize checklist functionality
      const checkboxes = document.querySelectorAll('.checklist-item input[type="checkbox"]');
      checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', updateChecklistProgress);
      });
    });

    function updateChecklistProgress() {
      const checkboxes = document.querySelectorAll('.checklist-item input[type="checkbox"]');
      const completed = document.querySelectorAll('.checklist-item input[type="checkbox"]:checked').length;
      const total = checkboxes.length;
      const percentage = (completed / total) * 100;
      
      // Enable complete button when all items are checked
      const completeBtn = document.querySelector('.btn-complete-task');
      if (completed === total) {
        completeBtn.style.background = '#28a745';
        completeBtn.innerHTML = '<i class="fas fa-check"></i> Pronto para Concluir!';
      } else {
        completeBtn.style.background = '';
        completeBtn.innerHTML = 'Marcar como Concluído';
      }
    }
  </script>

  <style>
    .quick-reference {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 20px;
      margin-top: 25px;
    }

    .quick-reference h4 {
      color: #333;
      margin-bottom: 15px;
    }

    .reference-item strong {
      color: #667eea;
      display: block;
      margin-bottom: 10px;
    }

    .reference-item ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .reference-item li {
      padding: 5px 0;
      color: #666;
      font-size: 0.9em;
    }

    .workflow-goals {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }

    .goal {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 10px;
      border-left: 4px solid #667eea;
    }

    .goal i {
      font-size: 1.5em;
      color: #667eea;
    }

    .goal span {
      color: #333;
      font-weight: 500;
    }

    .tutorial-step {
      background: white;
      border: 2px solid #e9ecef;
      border-radius: 15px;
      margin-bottom: 30px;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .tutorial-step:hover {
      border-color: #667eea;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .step-header {
      background: #667eea;
      color: white;
      padding: 20px;
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .step-number {
      width: 40px;
      height: 40px;
      background: white;
      color: #667eea;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1.2em;
    }

    .step-header h3 {
      margin: 0;
      font-size: 1.3em;
    }

    .step-content {
      padding: 30px;
    }

    .step-content p {
      margin-bottom: 20px;
      font-size: 1.1em;
      color: #555;
    }

    .step-image {
      margin: 25px 0;
    }

    .image-placeholder {
      background: #f8f9fa;
      border: 2px dashed #dee2e6;
      border-radius: 10px;
      padding: 40px;
      text-align: center;
      color: #6c757d;
    }

    .image-placeholder i {
      font-size: 3em;
      margin-bottom: 15px;
    }

    .step-instructions ol {
      background: #f8f9fa;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
    }

    .step-instructions li {
      margin-bottom: 10px;
      color: #333;
      line-height: 1.6;
    }

    .execution-guide {
      margin: 30px 0;
    }

    .execution-step {
      display: flex;
      align-items: flex-start;
      gap: 20px;
      padding: 25px;
      background: #f8f9fa;
      border-radius: 10px;
      margin-bottom: 20px;
      transition: all 0.3s ease;
    }

    .execution-step:hover {
      background: #e9ecef;
      transform: translateX(10px);
    }

    .execution-step i {
      font-size: 2em;
      color: #667eea;
      margin-top: 5px;
    }

    .execution-step h4 {
      color: #333;
      margin-bottom: 8px;
    }

    .execution-step p {
      color: #666;
      margin: 0;
    }

    .troubleshooting {
      margin: 30px 0;
    }

    .trouble-item {
      display: flex;
      align-items: flex-start;
      gap: 20px;
      padding: 25px;
      background: #f8f9fa;
      border-radius: 10px;
      margin-bottom: 20px;
    }

    .trouble-icon {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5em;
      color: white;
      flex-shrink: 0;
    }

    .trouble-icon.error {
      background: #dc3545;
    }

    .trouble-icon.warning {
      background: #ffc107;
    }

    .trouble-icon.info {
      background: #17a2b8;
    }

    .trouble-content h4 {
      color: #333;
      margin-bottom: 10px;
    }

    .trouble-content p {
      color: #666;
      margin-bottom: 8px;
      font-size: 0.95em;
    }

    .exercise-checklist {
      background: #e3f2fd;
      border-radius: 10px;
      padding: 20px;
      margin: 20px 0;
    }

    .exercise-checklist h5 {
      color: #1976d2;
      margin-bottom: 15px;
    }

    .checklist-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 8px 0;
    }

    .checklist-item input[type="checkbox"] {
      width: 18px;
      height: 18px;
      accent-color: #667eea;
    }

    .checklist-item label {
      color: #333;
      cursor: pointer;
      user-select: none;
    }

    .checklist-item input[type="checkbox"]:checked + label {
      text-decoration: line-through;
      color: #6c757d;
    }

    .next-steps-preview {
      background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
      border-radius: 15px;
      padding: 30px;
      margin: 30px 0;
    }

    .preview-list {
      list-style: none;
      padding: 0;
      margin: 20px 0 0 0;
    }

    .preview-list li {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 12px 0;
      color: #333;
      font-size: 1.05em;
    }

    .preview-list i {
      color: #667eea;
      width: 20px;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .workflow-goals {
        grid-template-columns: 1fr;
      }

      .goal {
        flex-direction: column;
        text-align: center;
        gap: 10px;
      }

      .execution-step,
      .trouble-item {
        flex-direction: column;
        text-align: center;
        gap: 15px;
      }

      .step-header {
        flex-direction: column;
        text-align: center;
        gap: 15px;
      }
    }
  </style>
</body>
</html>